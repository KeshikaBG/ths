<!DOCTYPE html>
<html data-wf-domain="montage-memories-by-saran.webflow.io" data-wf-page="686f849b6d93ad68ce6c35d9"
  data-wf-site="686114c23251c72b0fc07256" data-wf-status="1">

<head>
 <meta charset="utf-8"><title>Work - The Happening Story</title><meta content="Work - Montage Memories by Saran" property="og:title"><meta content="Work - Montage Memories by Saran" property="twitter:title"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="Webflow" name="generator"><link href="https://cdn.prod.website-files.com/686114c23251c72b0fc07256/css/montage-memories-by-saran.webflow.shared.5ef7c486d.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com" rel="preconnect"><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous"><script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa:regular,500,600,700" media="all"><script type="text/javascript">WebFont.load({  google: {    families: ["Comfortaa:regular,500,600,700"]  }});</script><script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script><link href="https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea717fff39988d378af2c7_ths-32.png" rel="shortcut icon" type="image/x-icon"><link href="https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea71877c6d87d1a6e1b0c5_ths-256.png" rel="apple-touch-icon"><script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js" defer=""></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/split-type@0.3.4"></script>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@latest/bundled/lenis.min.js" defer=""></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>

<link rel="preconnect" href="https://cdn.sanity.io" crossorigin>


  <style>
    html {
  scroll-behavior: smooth; /* built-in smoothness */
}
      .w-webflow-badge {
  display: none !important;
}
    [data-entry-anim] {
      scale: 0;
      filter: grayscale(100%);
      transition: filter 0.6s ease;
      will-change: scale, filter;
    }

    .loader {
      display: flex;
      clip-path: inset(0% 0% 0% 0%);
    }

    [slide-up-anim]>* {
      opacity: 0;
    }

    [text-split] span,
    [scale-opacity-anim]>*,
    [scale-anim],
    [opacity-anim]>*:not(.overlay),
    [data-scale-img] img {
      will-change: transform, opacity;
    }

    @media (max-width: 767px) {
      html {
        font-size: 14px !important;
      }
    }

    .hero-sec {
      height: 100dvh;
    }

    .sec-btn,
    .btn {
      cursor: pointer;
      overflow: hidden;
    }

    .btn-arr {
      transform: translateX(0);
      transition: transform 0.6s ease, opacity 0.01s ease;
    }

    .btn-txt {
      transform: translateY(0);
      transition: transform 0.6s ease, opacity 0.01s ease;
    }

    .sec-btn:hover .btn-arr,
    .btn:hover .btn-arr {
      animation: btn-arr-exit-enter 0.6s forwards 0.04s;
    }

    .sec-btn:hover .btn-txt,
    .btn:hover .btn-txt {
      animation: btn-txt-exit-enter 0.6s forwards;
    }

    @keyframes btn-arr-exit-enter {
      0% {
        transform: translateX(0);
        opacity: 1;
      }

      30% {
        transform: translateX(100%);
        opacity: 0;
      }

      60% {
        transform: translateX(-100%);
        opacity: 0;
      }

      100% {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes btn-txt-exit-enter {
      0% {
        transform: translateY(0);
        opacity: 1;
      }

      30% {
        transform: translateY(-100%);
        opacity: 0;
      }

      60% {
        transform: translateY(100%);
        opacity: 0;
      }

      100% {
        transform: translateY(0);
        opacity: 1;
      }
    }

    a.s1 {
      color: #373737;
      transition: color 0.3s ease;
    }

    a.s1:hover {
      color: #9b9b9b;
    }

    .loader {
      position: fixed;
      inset: 0;
      background: #ffffff;
      z-index: 9999;
    }

    [text-split],
    [scale-opacity-anim]>*,
    [opacity-anim]>*:not(.overlay) {
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    [scale-opacity-anim]>* {
      scale: 0;
      transition: scale 0.3s ease;
    }

    .nav-line {
      position: absolute;
      left: 0;
      right: 0;
      margin: 0 auto;
      width: 100%;
      transform-origin: center center;
      transform: scaleX(0);
    }

    .vertical-line {
      transform-origin: center center;
      transform: scaleY(0);
    }
      @media screen and (max-width: 479px) {
    .black-logo{
        object-fit: contain!important;
        inset: auto 0% 0% auto;
    }
}
  </style>




  <script>
    function lockSectionHeight() {
      const vh = window.innerHeight;
      document.querySelectorAll('.hero-sec').forEach(sec => {
        sec.style.height = vh + 'px';
      });
    }
    lockSectionHeight();
  </script>




  <script>
    document.addEventListener("DOMContentLoaded", function () {
      if (gsap && ScrollToPlugin) {
        gsap.registerPlugin(ScrollToPlugin, ScrollTrigger);
      }
      document.querySelectorAll(".back-to-home").forEach(btn => {
        btn.addEventListener("click", e => {
          e.preventDefault();
          gsap.to(window, {
            scrollTo: { y: 0 },
            duration: 1.2,
            ease: "power2.out"
          });
        });
      });
    });
  </script>




  <script>
    window.loaderFinished = false;
    document.addEventListener("DOMContentLoaded", function () {
      const loader = document.querySelector('.loader');
      const loaderVisibleTime = 800;
      const ease = "power2.inOut";
      function hideLoader() {
        if (loader) {
          setTimeout(() => { window.loaderFinished = true; }, loaderVisibleTime - 50);
        } else {
          window.loaderFinished = true;
        }
        gsap.to(loader, {
          clipPath: "inset(0% 0% 100% 0%)",
          duration: 1.2,
          ease: ease,
          onComplete: () => {
            loader.style.display = "none";
            window.loaderFinished = true;
          }
        });
      }
      function showLoader(callback) {
        if (!loader) return callback?.();
        loader.style.display = "flex";
        gsap.set(loader, { clipPath: "inset(100% 0% 0% 0%)" });
        gsap.to(loader, {
          clipPath: "inset(0% 0% 0% 0%)",
          duration: 0.8,
          ease: ease,
          onComplete: callback
        });
      }
      if (loader) {
        setTimeout(() => hideLoader(), loaderVisibleTime);
      } else {
        window.loaderFinished = true;
      }
      document.querySelectorAll("a").forEach(link => {
        if (!link.href.startsWith(window.location.origin)) return;
        if (link.target === "_blank" || link.href.includes("#")) return;
        link.addEventListener("click", function (event) {
          event.preventDefault();
          const targetUrl = this.href;
          showLoader(() => {
            window.location.href = targetUrl;
          });
        });
      });
      window.addEventListener("popstate", () => {
        showLoader(() => { window.location.reload(); });
      });
    });
  </script>





  <!-- Entry animations -->
  <script>
    (function waitForLoader() {
      if (!window.loaderFinished) { requestAnimationFrame(waitForLoader); }
      else { runGsapAnimations(); }
    })();
    function runGsapAnimations() {
      const easeType = "power2.out";
      ScrollTrigger.batch("[data-entry-anim]", {
        onEnter: batch => {
          batch.forEach(el => {
            const delay = parseFloat(el.dataset.entryDelay) || 0;
            gsap.fromTo(el,
              { scale: 0 },
              { scale: 1, duration: 1, ease: easeType, delay: delay }
            );
            gsap.to(el, {
              filter: "grayscale(0%)", duration: 0.6, ease: easeType, delay: delay + 0.01
            });
          });
        },
        once: true
      });
      // Batch scale animations
      ScrollTrigger.batch("[scale-anim]", {
        onEnter: batch => {
          gsap.fromTo(batch,
            { scale: 0, },
            { scale: 1, duration: 0.6, ease: easeType, stagger: 0.15 }
          );
        },
        once: true
      });
      // Slide-up animations with container + child stagger
      document.querySelectorAll("[slide-up-anim]").forEach((container, containerIndex) => {
        const children = container.querySelectorAll(":scope > *");
        if (!children.length) return;

        children.forEach((child, i) => {
          gsap.fromTo(child,
            { y: 80, opacity: 0 },
            {
              y: 0,
              opacity: 1,
              duration: 0.8,
              ease: "power2.out",
              delay: containerIndex * 0.3 + i * 0.15, // container stagger + child stagger
              scrollTrigger: {
                trigger: child,
                start: "top 90%",
                once: true
              }
            }
          );
        });
      });

      // Fade-in children in batch (excluding .overlay)
      document.querySelectorAll("[opacity-anim]").forEach(container => {
        const children = [...container.children].filter(el => !el.classList.contains("overlay"));
        if (children.length) {
          ScrollTrigger.batch(children, {
            onEnter: batch => gsap.to(batch, { opacity: 1 }),
            once: true
          });
        }
      });
      // Fade + scale-in children in batch
      document.querySelectorAll("[scale-opacity-anim]").forEach(container => {
        const children = [...container.children];
        if (children.length) {
          ScrollTrigger.batch(children, {
            onEnter: batch => gsap.fromTo(batch,
              { scale: 0, opacity: 0 },
              { scale: 1, opacity: 1, duration: 0.6, ease: easeType, stagger: 0.15 }
            ),
            once: true
          });
        }
      });
      // Image fade scale
      ScrollTrigger.batch("[data-scale-img] img", {
        onEnter: batch => gsap.to(batch, {
          opacity: 1, duration: 0.6, ease: easeType, stagger: 0.03
        }),
        once: true
      });
      // Divider animations
      const animDvdr = (sel, axis) => {
        document.querySelectorAll(sel).forEach(dvdr => {
          gsap.fromTo(dvdr, { [axis]: 0 }, {
            [axis]: 1,
            duration: 0.6,
            ease: easeType,
            scrollTrigger: { trigger: dvdr, start: "top 90%", once: true }
          });
        });
      };
      animDvdr('.nav-line', "scaleX");
      animDvdr('.vertical-line', "scaleY");
    }
  </script>




  <!-- SplitType animations with debounce -->
  <script>
    (function waitForLoader() {
      if (!window.loaderFinished) {
        requestAnimationFrame(waitForLoader);
      } else {
        initSplitType();
      }
    })();
    function initSplitType() {
      function initSplit() {
        new SplitType("[text-split]", { types: "lines, words, chars", tagName: "span" });
        document.querySelectorAll("[text-split] .line").forEach(line => {
          const wrapper = document.createElement("div");
          wrapper.style.overflow = "hidden";
          line.parentNode.insertBefore(wrapper, line);
          wrapper.appendChild(line);
        });
        document.querySelectorAll("[stagger-animation]").forEach(el => {
          const delay = parseFloat(el.getAttribute("data-delay") || 0.01);
          const lines = el.querySelectorAll(".line");
          const tl = gsap.timeline({ paused: true, delay });
          lines.forEach((line, i) => {
            tl.from(line, {
              yPercent: 100,
              duration: 0.6,
              ease: "power2.out"
            }, i * 0.05);
            tl.from(line.querySelectorAll(".word, .char"), {
              yPercent: 100,
              duration: 0.5,
              ease: "power2.out",
              stagger: 0.01
            }, i * 0.05);
          });
          ScrollTrigger.create({
            trigger: el,
            start: "top 90%",
            once: true,
            onEnter: () => {
              gsap.to(el, { opacity: 1, duration: 0.1 });
              tl.play();
            }
          });
        });
      } initSplit();
    }
  </script>







  <!-- Header ANIMATION -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const headers = document.querySelectorAll(".header");
      if (!headers.length) return;
      headers.forEach(hdr => {
        const hdrHeight = hdr.offsetHeight;
        let lastScrollY = window.scrollY;
        const animateHeaderOnScroll = () => {
          const scrollY = window.scrollY;
          const isScrollingDown = scrollY > lastScrollY;
          gsap.to(hdr, {
            top: isScrollingDown ? -hdrHeight : 0,
            ease: "power2.out",
            duration: 0.6
          });
          lastScrollY = scrollY;
        };
        window.addEventListener('scroll', animateHeaderOnScroll);
        ScrollTrigger.create({
          trigger: hdr,
          start: `top top+=${hdrHeight}`,
          end: `bottom top+=${hdrHeight}`
        });
      });
    });
  </script>
  <style>
    .images-flex img {
      width: auto !important;
      height: 100% !important;
      object-fit: cover !important;
      max-width: none !important;
      margin-right: 1rem !important;
      pointer-events: none !important;
      user-select: none !important;
      -webkit-user-drag: none !important;
      border-radius: 10px !important;
    }

    .separate-work-div,
    .overlay-work {
      display: none;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .work-img-wrpr-div .overlay-div {
      opacity: 0 !important;
      transition: opacity 0.3s ease !important;
    }

    .work-img-wrpr-div:hover .overlay-div {
      opacity: 1 !important;
    }

    .wrk-chip,
    .wrk-chip-all {
      background: #fff;
      transition: background 0.3s;
      cursor: pointer;
    }

    .wrk-chip:hover,
    .wrk-chip-all:hover {
      background: #e3e3e3;
    }

    .wrk-chip.selected,
    .wrk-chip-all.selected {
      background: #d36d47;
    }

    .wrk-chip .chip-text,
    .wrk-chip-all .chip-text {
      color: #373737;
      transition: color 0.3s;
    }

    .wrk-chip.selected .chip-text,
    .wrk-chip-all.selected .chip-text {
      color: #ffffff;
    }
  </style>
</head>

<body>
  <div class="w-layout-hflex loader">
    <div class="w-layout-hflex logo-div"><img
        src="../cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK.png"
        loading="lazy" sizes="(max-width: 4285px) 100vw, 4285px"
        srcset="https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK-p-500.png 500w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK-p-800.png 800w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK-p-1080.png 1080w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK-p-1600.png 1600w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK-p-2000.png 2000w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK-p-2600.png 2600w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK-p-3200.png 3200w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK.png 4285w"
        alt="" class="image ths" /></div>
  </div>
  <div slide-up-anim="" class="w-layout-hflex header _1rem-p"><a href="index.html" class="home-link w-inline-block"><img
        src="../cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473c079b8a7405804ff9_THE%20HAPPENING%20STORY%20WHITE.png"
        loading="lazy" sizes="(max-width: 4285px) 100vw, 4285px"
        srcset="https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473c079b8a7405804ff9_THE%20HAPPENING%20STORY%20WHITE-p-500.png 500w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473c079b8a7405804ff9_THE%20HAPPENING%20STORY%20WHITE-p-800.png 800w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473c079b8a7405804ff9_THE%20HAPPENING%20STORY%20WHITE-p-1080.png 1080w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473c079b8a7405804ff9_THE%20HAPPENING%20STORY%20WHITE-p-1600.png 1600w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473c079b8a7405804ff9_THE%20HAPPENING%20STORY%20WHITE-p-2000.png 2000w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473c079b8a7405804ff9_THE%20HAPPENING%20STORY%20WHITE-p-2600.png 2600w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473c079b8a7405804ff9_THE%20HAPPENING%20STORY%20WHITE-p-3200.png 3200w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473c079b8a7405804ff9_THE%20HAPPENING%20STORY%20WHITE.png 4285w"
        alt="" class="mm-logo" /></a>
    <div class="w-layout-hflex nav-inr-wrp">
      <div class="menu-close w-embed"><svg width="25" height="25" viewBox="0 0 35 35" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path
            d="M0.42763 2.49241C0.292055 2.35684 0.184511 2.19589 0.111138 2.01875C0.0377647 1.84161 1.42852e-09 1.65175 0 1.46002C-1.42852e-09 1.26829 0.0377647 1.07843 0.111138 0.901296C0.184511 0.724158 0.292055 0.563206 0.42763 0.42763C0.563206 0.292055 0.724158 0.184511 0.901296 0.111138C1.07843 0.0377647 1.26829 -1.42852e-09 1.46002 0C1.65175 1.42852e-09 1.84161 0.0377647 2.01875 0.111138C2.19589 0.184511 2.35684 0.292055 2.49241 0.42763L17.5 15.4381L32.5076 0.42763C32.6432 0.292055 32.8041 0.184511 32.9813 0.111138C33.1584 0.0377647 33.3482 0 33.54 0C33.7317 0 33.9216 0.0377647 34.0987 0.111138C34.2758 0.184511 34.4368 0.292055 34.5724 0.42763C34.7079 0.563206 34.8155 0.724158 34.8889 0.901296C34.9622 1.07843 35 1.26829 35 1.46002C35 1.65175 34.9622 1.84161 34.8889 2.01875C34.8155 2.19589 34.7079 2.35684 34.5724 2.49241L19.5619 17.5L34.5724 32.5076C34.7079 32.6432 34.8155 32.8041 34.8889 32.9813C34.9622 33.1584 35 33.3482 35 33.54C35 33.7317 34.9622 33.9216 34.8889 34.0987C34.8155 34.2758 34.7079 34.4368 34.5724 34.5724C34.4368 34.7079 34.2758 34.8155 34.0987 34.8889C33.9216 34.9622 33.7317 35 33.54 35C33.3482 35 33.1584 34.9622 32.9813 34.8889C32.8041 34.8155 32.6432 34.7079 32.5076 34.5724L17.5 19.5619L2.49241 34.5724C2.35684 34.7079 2.19589 34.8155 2.01875 34.8889C1.84161 34.9622 1.65175 35 1.46002 35C1.26829 35 1.07843 34.9622 0.901296 34.8889C0.724158 34.8155 0.563206 34.7079 0.42763 34.5724C0.292055 34.4368 0.184511 34.2758 0.111138 34.0987C0.0377647 33.9216 0 33.7317 0 33.54C0 33.3482 0.0377647 33.1584 0.111138 32.9813C0.184511 32.8041 0.292055 32.6432 0.42763 32.5076L15.4381 17.5L0.42763 2.49241Z"
            fill="#373737" />
        </svg></div>
      <div class="w-layout-vflex flex-block"><a href="index.html" class="nav-link-div w-inline-block">
          <div class="nav-links">Home</div>
        </a><a href="about.html" class="nav-link-div w-inline-block">
          <div class="nav-links">About</div>
        </a><a href="work.html" aria-current="page" class="nav-link-div w-inline-block w--current">
          <div class="nav-links">Work</div>
        </a><a href="video-gallery.html" class="nav-link-div w-inline-block">
          <div class="nav-links">Video Gallery</div>
        </a><a href="octane-space.html" class="nav-link-div w-inline-block">
          <div class="nav-links">octane space</div>
        </a><a href="end-to-end.html" class="nav-link-div w-inline-block">
          <div class="nav-links">End to end</div>
        </a><a href="contact.html" class="nav-link-div none w-inline-block">
          <div class="nav-links">Contact us</div>
        </a></div>
    </div><a href="contact.html" class="btn none w-inline-block">
      <div class="btn-txt">LETS TALK</div>
      <div class="btn-arr w-embed"><svg width="16" height="11" viewBox="0 0 16 11" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M0 5.50071C0 5.35153 0.0592632 5.20845 0.164752 5.10296C0.270242 4.99747 0.413316 4.93821 0.5625 4.93821H13.8296L10.2892 1.39896C10.1836 1.29334 10.1243 1.15008 10.1243 1.00071C10.1243 0.851338 10.1836 0.708083 10.2892 0.60246C10.3949 0.496838 10.5381 0.4375 10.6875 0.4375C10.8369 0.4375 10.9801 0.496838 11.0858 0.60246L15.5858 5.10246C15.6381 5.15471 15.6797 5.21678 15.7081 5.28512C15.7364 5.35346 15.751 5.42672 15.751 5.50071C15.751 5.5747 15.7364 5.64796 15.7081 5.7163C15.6797 5.78464 15.6381 5.84671 15.5858 5.89896L11.0858 10.399C10.9801 10.5046 10.8369 10.5639 10.6875 10.5639C10.5381 10.5639 10.3949 10.5046 10.2892 10.399C10.1836 10.2933 10.1243 10.1501 10.1243 10.0007C10.1243 9.85134 10.1836 9.70808 10.2892 9.60246L13.8296 6.06321H0.5625C0.413316 6.06321 0.270242 6.00395 0.164752 5.89846C0.0592632 5.79297 0 5.6499 0 5.50071Z"
            fill="white" />
        </svg></div>
    </a>
    <div class="w-layout-vflex menu none">
      <div class="menu-lines"></div>
      <div class="menu-lines"></div>
      <div class="menu-lines"></div>
    </div>
    <div class="nav-line"></div>
    <div class="overlay"></div>
    <div class="header-css-code w-embed w-script">
      <style>
        [opacity-anim]>*:not(.overlay) {
          will-change: transform, opacity !important;
          transition: transform 0.3s ease, opacity 0.3s ease !important;
        }

        .header {
          background: transparent;
          margin: 1rem 1rem 0 1rem;
          transition: margin 0.3s ease;
          overflow: hidden !important;
        }

        .header.vis {
          overflow: visible !important;
        }

        .header.scrolled {
          background: white;
          margin: 0;
        }

        .header .nav-line {
          background-color: white;
          transition: background-color 0.3s ease;
        }

        .header.scrolled .nav-line {
          background-color: #c3c3c3;
        }



        @media screen and (max-width: 991px) {
          .header .nav-inr-wrp {
            margin: 0rem;
            transition: margin 0.3s ease;
          }

          .header.scrolled .nav-inr-wrp {
            margin: 1rem;
          }
        }


        .header.scrolled .menu {
          background-color: #373737;
        }

        .header.scrolled .menu:hover {
          background-color: #454545 !important;
        }

        .header .menu-line {
          background-color: #373737;
          transition: background-color 0.3s ease;
        }

        .header.scrolled .menu-lines {
          background-color: white;
        }

        .mm-logo {
          transition: filter 0.3s ease;
          filter: invert(0%);
        }

        .header.scrolled .mm-logo {
          filter: invert(100%);
        }



        .nav-wrp {
          height: 0vh;
          transition: height 0.5s ease;
        }

        .nav-link-div .nav-links {
          color: #c3c3c3 !important;
          /* default color */
          transition: color 0.3s ease;
          /* smooth transition */
        }

        .nav-link-div.w--current .nav-links,
        .nav-link-div:hover .nav-links {
          color: #373737 !important;
          /* active or hover color */
        }







        .overlay {
          position: fixed;
          /* stays fixed relative to viewport */
          top: 0;
          left: 0;
          width: 100vw !important;
          height: 100vh !important;
          opacity: 0 !important;
          transition: opacity 0.4s ease, visibility 0.4s ease;
          z-index: -1 !important;
          visibility: hidden;
        }

        @media screen and (max-width: 991px) {

          /* Default hidden state */
          .nav-inr-wrp {
            opacity: 0 !important;
            visibility: hidden;
            min-height: 0vh;
            padding: 0;
            overflow: hidden;
            transition: opacity 0.4s ease, max-height 0.4s ease, padding 0.4s ease;
          }

          .overlay {
            position: fixed;
            /* stays fixed relative to viewport */
            top: 0;
            left: 0;
            width: 100vw !important;
            height: 100vh !important;
            opacity: 0 !important;
            transition: opacity 0.4s ease, visibility 0.4s ease;
            z-index: -1 !important;
            visibility: hidden;
          }

          /* Active (visible) state */
          .nav-inr-wrp.active {
            opacity: 1 !important;
            visibility: visible;
            min-height: 35vh;
            /* set a value slightly larger than expected content */
            padding: 1rem;
          }

          .overlay.oveactive {
            display: block;
            position: fixed;
            /* stays fixed relative to viewport */
            top: 0;
            left: 0;
            width: 100vw !important;
            height: 100vh !important;
            opacity: 1 !important;
            visibility: visible;
            z-index: 9996 !important;
          }
        }
      </style>











      <script>
        document.addEventListener("DOMContentLoaded", () => {
          const menuBtn = document.querySelector(".menu");   // open button
          const closeBtn = document.querySelector(".menu-close");   // close button
          const navWrap = document.querySelector(".nav-inr-wrp");
          const overlay = document.querySelector(".overlay");
          const head = document.querySelector(".header");

          function isMobile() {
            return window.innerWidth <= 991;
          }

          function closeMenu() {
            if (isMobile()) {
              navWrap.classList.remove("active");
              setTimeout(() => {
                navWrap.classList.remove("height");
              }, 0);
              overlay.classList.remove("oveactive");
              head.classList.remove("vis");
            }
          }

          if (menuBtn && closeBtn && navWrap && overlay) {
            menuBtn.addEventListener("click", () => {
              if (isMobile()) {
                navWrap.classList.add("active");
                navWrap.classList.add("height");
                overlay.classList.add("oveactive");
                head.classList.add("vis");
              }
            });

            closeBtn.addEventListener("click", closeMenu);
            overlay.addEventListener("click", closeMenu);

            // ✅ Close menu when any link inside navWrap is clicked
            navWrap.querySelectorAll("a").forEach(link => {
              link.addEventListener("click", closeMenu);
            });
          }
        });
      </script>
    </div>
  </div>
  <section class="hero-sec">
    <div class="w-layout-blockcontainer hero-cont w-container">
      <div class="hero-div">
        <div data-entry-anim="" class="w-layout-hflex swiper grey">
          <div class="div-block-2"></div>
        </div>
        <div class="w-layout-vflex hero-main-texts-div">
          <div class="w-layout-vflex hero-inr-flex">
            <div data-delay="0.3" text-split="" stagger-animation="" class="caption">[ Work ]</div>
            <h1 data-delay="0.5" text-split="" stagger-animation="" class="h1">Where Every Frame Tells a Story</h1>
          </div>
          <div class="vertical-line"></div>
          <p data-delay="0.7" text-split="" stagger-animation="" class="b2 ch">A curated selection of moments that moved
            us and the people we photographed.</p>
        </div>
      </div>
    </div>
  </section>
  <section class="work-sec">
    <div class="w-layout-blockcontainer work-cont w-container">
      <div class="w-layout-vflex wrk-div">
        <div class="w-layout-grid wrk-flex">
          <p stagger-animation="" text-split="" id="w-node-_4e4b8c25-cafd-8186-81ef-7ec6b0bea0f6-ce6c35d9"
            class="sh1 right">Portfolio Highlights</p>
          <div opacity-anim="" id="w-node-_84b4f7aa-1542-d043-da00-8fe799c023ff-ce6c35d9"
            class="w-layout-hflex work-chip-wrp">
            <div class="wrk-chip-all selected">
              <div class="chip-text">All</div>
            </div>
            <div class="wrk-chip">
              <div class="chip-text">Wedding</div>
            </div>
            <div class="wrk-chip">
              <div class="chip-text">Pre or post wedding</div>
            </div>
            <div class="wrk-chip">
              <div class="chip-text">Maternity</div>
            </div>
            <div class="wrk-chip">
              <div class="chip-text">Baby shoot</div>
            </div>
            <div class="wrk-chip">
              <div class="chip-text">Commercials</div>
            </div>
            <div class="wrk-chip">
              <div class="chip-text">Aerials</div>
            </div>
            <div class="wrk-chip">
              <div class="chip-text">Corporate shoots</div>
            </div>
            <div class="wrk-chip">
              <div class="chip-text">Concerts</div>
            </div>
          </div>
          <div id="w-node-_84b4f7aa-1542-d043-da00-8fe799c02419-ce6c35d9" class="w-layout-grid wrk-grid work">
            <div slide-up-anim="" id="w-node-_84b4f7aa-1542-d043-da00-8fe799c0241a-ce6c35d9"
              class="w-layout-vflex work-divs-wrpr">
              <div class="work-img-wrpr-div">
                <div class="w-layout-hflex overlay-div">
                  <h5 class="title-img">Heading</h5>
                </div>
              </div>
            </div>
            <div slide-up-anim="" id="w-node-_84b4f7aa-1542-d043-da00-8fe799c0241d-ce6c35d9"
              class="w-layout-vflex work-divs-wrpr none"></div>
            <div slide-up-anim="" id="w-node-_84b4f7aa-1542-d043-da00-8fe799c0241c-ce6c35d9"
              class="w-layout-vflex work-divs-wrpr none"></div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="contact-sec">
    <div class="w-layout-blockcontainer contact-cont w-container">
      <div data-entry-anim="" class="contact-div">
        <div class="w-layout-vflex contact-main-div">
          <div class="w-layout-vflex inr-flex">
            <div data-delay="0.2" text-split="" stagger-animation="" class="caption">[ contact ]</div>
            <h2 data-delay="0.3" text-split="" stagger-animation="" class="h2 white">Ready to Capture Your Special
              Moments? Reach Out to US</h2>
          </div><a href="contact.html" class="btn w-inline-block">
            <div class="btn-txt">Contact us</div>
            <div class="btn-arr w-embed"><svg width="16" height="11" viewBox="0 0 16 11" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M0 5.50071C0 5.35153 0.0592632 5.20845 0.164752 5.10296C0.270242 4.99747 0.413316 4.93821 0.5625 4.93821H13.8296L10.2892 1.39896C10.1836 1.29334 10.1243 1.15008 10.1243 1.00071C10.1243 0.851338 10.1836 0.708083 10.2892 0.60246C10.3949 0.496838 10.5381 0.4375 10.6875 0.4375C10.8369 0.4375 10.9801 0.496838 11.0858 0.60246L15.5858 5.10246C15.6381 5.15471 15.6797 5.21678 15.7081 5.28512C15.7364 5.35346 15.751 5.42672 15.751 5.50071C15.751 5.5747 15.7364 5.64796 15.7081 5.7163C15.6797 5.78464 15.6381 5.84671 15.5858 5.89896L11.0858 10.399C10.9801 10.5046 10.8369 10.5639 10.6875 10.5639C10.5381 10.5639 10.3949 10.5046 10.2892 10.399C10.1836 10.2933 10.1243 10.1501 10.1243 10.0007C10.1243 9.85134 10.1836 9.70808 10.2892 9.60246L13.8296 6.06321H0.5625C0.413316 6.06321 0.270242 6.00395 0.164752 5.89846C0.0592632 5.79297 0 5.6499 0 5.50071Z"
                  fill="white" />
              </svg></div>
          </a>
        </div>
      </div>
    </div>
  </section>
  <section class="footer-sec">
    <div class="w-layout-blockcontainer footer-cont w-container">
      <div opacity-anim="" class="w-layout-hflex footer-div">
        <div class="w-layout-hflex footer-flex">
          <div class="w-layout-vflex footer-links">
            <p class="s1 caps head">Quick links</p><a href="work.html" aria-current="page"
              class="s1 caps w--current">Work</a><a href="video-gallery.html" class="s1 caps">video gallery</a><a
              href="about.html" class="s1 caps">about</a><a href="octane-space.html" class="s1 caps">octane space</a><a
              href="end-to-end.html" class="s1 caps">End to end</a><a href="contact.html" class="s1 caps">contact</a>
          </div>
          <div class="w-layout-vflex footer-links">
            <p class="s1 caps head">Connect</p><a href="tel:+919384446512" class="s1 caps">Phone</a><a
              href="https://www.instagram.com/montage_memories_by_saran/?igsh=MXF0NmtoeTBydjMwcw%3D%3D#" target="_blank"
              class="s1 caps">instagram</a><a href="https://wa.me/9384446512" target="_blank"
              class="s1 caps">whatsapp</a><a href="https://www.youtube.com/@montagememoriesbysaran" target="_blank"
              class="s1 caps">youtube</a><a
              href="https://www.facebook.com/montagememories23?mibextid=wwXIfr&amp;rdid=Ot4GRKyykG0XrEc7&amp;share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2F15stAT4MzW%2F%3Fmibextid%3DwwXIfr#"
              target="_blank" class="s1 caps">facebook</a>
          </div>
        </div>
        <div class="w-layout-vflex footer-ver-flex">
          <div class="w-layout-hflex back-to-home trans">
            <div class="btn-txt black">BACK TO TOP</div>
            <div class="up-arr w-embed"><svg width="16" height="11" viewBox="0 0 16 11" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M0 5.50071C0 5.35153 0.0592632 5.20845 0.164752 5.10296C0.270242 4.99747 0.413316 4.93821 0.5625 4.93821H13.8296L10.2892 1.39896C10.1836 1.29334 10.1243 1.15008 10.1243 1.00071C10.1243 0.851338 10.1836 0.708083 10.2892 0.60246C10.3949 0.496838 10.5381 0.4375 10.6875 0.4375C10.8369 0.4375 10.9801 0.496838 11.0858 0.60246L15.5858 5.10246C15.6381 5.15471 15.6797 5.21678 15.7081 5.28512C15.7364 5.35346 15.751 5.42672 15.751 5.50071C15.751 5.5747 15.7364 5.64796 15.7081 5.7163C15.6797 5.78464 15.6381 5.84671 15.5858 5.89896L11.0858 10.399C10.9801 10.5046 10.8369 10.5639 10.6875 10.5639C10.5381 10.5639 10.3949 10.5046 10.2892 10.399C10.1836 10.2933 10.1243 10.1501 10.1243 10.0007C10.1243 9.85134 10.1836 9.70808 10.2892 9.60246L13.8296 6.06321H0.5625C0.413316 6.06321 0.270242 6.00395 0.164752 5.89846C0.0592632 5.79297 0 5.6499 0 5.50071Z"
                  fill="#373737" />
              </svg></div>
          </div>
          <div class="w-layout-vflex footer-inr-flex">
            <p class="s1 caps">TERMS AND CONDITIONS</p>
            <p class="s1 caps">2025 - the happening story ALL RIGHTS RESERVED.</p>
          </div>
        </div><img
          src="../cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK.png"
          loading="lazy" sizes="(max-width: 767px) 100vw, (max-width: 991px) 727.989990234375px, 939.989990234375px"
          srcset="https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK-p-500.png 500w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK-p-800.png 800w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK-p-1080.png 1080w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK-p-1600.png 1600w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK-p-2000.png 2000w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK-p-2600.png 2600w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK-p-3200.png 3200w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ea473dbde85d6ffd81fd2d_THE%20HAPPENING%20STORY%20BLACK.png 4285w"
          alt="" class="black-logo" />
      </div>
    </div>
    <div class="w-layout-hflex div-block-3"><img
        src="../cdn.prod.website-files.com/686114c23251c72b0fc07256/68ac126551902a842f8b3e7f_Frame%2040073.png"
        loading="lazy" sizes="(max-width: 6441px) 100vw, 6441px"
        srcset="https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ac126551902a842f8b3e7f_Frame%2040073-p-500.png 500w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ac126551902a842f8b3e7f_Frame%2040073-p-800.png 800w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ac126551902a842f8b3e7f_Frame%2040073-p-1080.png 1080w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ac126551902a842f8b3e7f_Frame%2040073-p-1600.png 1600w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ac126551902a842f8b3e7f_Frame%2040073-p-2000.png 2000w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ac126551902a842f8b3e7f_Frame%2040073-p-2600.png 2600w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ac126551902a842f8b3e7f_Frame%2040073-p-3200.png 3200w, https://cdn.prod.website-files.com/686114c23251c72b0fc07256/68ac126551902a842f8b3e7f_Frame%2040073.png 6441w"
        alt="" class="image-3" />
      <div class="color-fill"></div>
    </div>
  </section>
  <div class="overlay-work">‍<br /><br />‍</div>
  <div class="w-layout-vflex separate-work-div">
    <div class="w-layout-vflex wrk-inr-wrp">
      <div class="wrk-close w-embed"><svg width="35" height="35" viewBox="0 0 35 35" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path
            d="M0.42763 2.49241C0.292055 2.35684 0.184511 2.19589 0.111138 2.01875C0.0377647 1.84161 1.42852e-09 1.65175 0 1.46002C-1.42852e-09 1.26829 0.0377647 1.07843 0.111138 0.901296C0.184511 0.724158 0.292055 0.563206 0.42763 0.42763C0.563206 0.292055 0.724158 0.184511 0.901296 0.111138C1.07843 0.0377647 1.26829 -1.42852e-09 1.46002 0C1.65175 1.42852e-09 1.84161 0.0377647 2.01875 0.111138C2.19589 0.184511 2.35684 0.292055 2.49241 0.42763L17.5 15.4381L32.5076 0.42763C32.6432 0.292055 32.8041 0.184511 32.9813 0.111138C33.1584 0.0377647 33.3482 0 33.54 0C33.7317 0 33.9216 0.0377647 34.0987 0.111138C34.2758 0.184511 34.4368 0.292055 34.5724 0.42763C34.7079 0.563206 34.8155 0.724158 34.8889 0.901296C34.9622 1.07843 35 1.26829 35 1.46002C35 1.65175 34.9622 1.84161 34.8889 2.01875C34.8155 2.19589 34.7079 2.35684 34.5724 2.49241L19.5619 17.5L34.5724 32.5076C34.7079 32.6432 34.8155 32.8041 34.8889 32.9813C34.9622 33.1584 35 33.3482 35 33.54C35 33.7317 34.9622 33.9216 34.8889 34.0987C34.8155 34.2758 34.7079 34.4368 34.5724 34.5724C34.4368 34.7079 34.2758 34.8155 34.0987 34.8889C33.9216 34.9622 33.7317 35 33.54 35C33.3482 35 33.1584 34.9622 32.9813 34.8889C32.8041 34.8155 32.6432 34.7079 32.5076 34.5724L17.5 19.5619L2.49241 34.5724C2.35684 34.7079 2.19589 34.8155 2.01875 34.8889C1.84161 34.9622 1.65175 35 1.46002 35C1.26829 35 1.07843 34.9622 0.901296 34.8889C0.724158 34.8155 0.563206 34.7079 0.42763 34.5724C0.292055 34.4368 0.184511 34.2758 0.111138 34.0987C0.0377647 33.9216 0 33.7317 0 33.54C0 33.3482 0.0377647 33.1584 0.111138 32.9813C0.184511 32.8041 0.292055 32.6432 0.42763 32.5076L15.4381 17.5L0.42763 2.49241Z"
            fill="#373737" />
        </svg></div>
      <h3 class="h3 auto-width title-inr-img">Arun &amp; divya</h3>
      <div class="w-layout-hflex images-flex-wrpr">
        <div class="w-layout-hflex images-flex"></div>
      </div>
    </div>
  </div>
  <script src="../d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c81d42.js?site=686114c23251c72b0fc07256"
    type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script>
  <script src="../cdn.prod.website-files.com/686114c23251c72b0fc07256/js/webflow.schunk.47fd547f44146dd0.js"
    type="text/javascript"></script>
  <script src="../cdn.prod.website-files.com/686114c23251c72b0fc07256/js/webflow.751e0867.148dc658e77a3916.js"
    type="text/javascript"></script>
  <script>
    window.addEventListener('scroll', function () {
      const header = document.querySelector('.header');
      if (window.scrollY > 0) { header.classList.add('scrolled'); }
      else { header.classList.remove('scrolled'); }
    });
  </script>




  <script type="module">
    import { createClient } from 'https://esm.sh/@sanity/client';
    const client = createClient({
      projectId: 'n7jjk6nd',
      dataset: 'production',
      useCdn: true,
      apiVersion: '2023-01-01'
    });
    let scrlContnr = null, scrlCntnt = null, cloneCntnt = null;
    let scrlPos = 0, defltSpeed = 0.6, scrlSpeed = defltSpeed;
    let isDragging = false, startX = 0, lastX = 0, velocity = 0;
    let dirctn = -1, isRunning = false, momentumFrame;
    function isElemInVp(el) {
      const rect = el.getBoundingClientRect();
      return rect.top < window.innerHeight && rect.bottom > 0;
    }
    function moveContent() {
      if (!scrlContnr || !scrlCntnt || !cloneCntnt) return;
      if (!isElemInVp(scrlContnr)) { isRunning = false; return; }
      isRunning = true;
      if (!isDragging) scrlPos += scrlSpeed * dirctn;
      let maxScroll = -scrlCntnt.scrollWidth;
      if (scrlPos <= maxScroll) scrlPos = 0;
      else if (scrlPos >= 0) scrlPos = maxScroll;
      scrlCntnt.style.transform = `translateX(${scrlPos}px)`;
      cloneCntnt.style.transform = `translateX(${scrlPos}px)`;
      requestAnimationFrame(moveContent);
    }
    function startAnimation() { if (!isRunning) moveContent(); }
    function startDrag(e, touch = false) {
      isDragging = true; cancelMomentum();
      startX = touch ? e.touches[0].pageX : e.pageX;
      lastX = startX; velocity = 0;
      scrlContnr.style.cursor = "grabbing";
    }
    function moveDrag(e, touch = false) {
      if (!isDragging) return;
      let currentX = touch ? e.touches[0].pageX : e.pageX;
      let dragDistance = currentX - lastX; lastX = currentX;
      velocity = dragDistance; scrlPos += dragDistance;
      scrlCntnt.style.transform = `translateX(${scrlPos}px)`;
      cloneCntnt.style.transform = `translateX(${scrlPos}px)`;
    }
    function endDrag() { isDragging = false; scrlContnr.style.cursor = "grab"; applyMomentum(); }
    function applyMomentum() {
      if (Math.abs(velocity) < 1) return;
      let speed = Math.min(Math.abs(velocity), 15);
      let momentumDirection = velocity > 0 ? 1 : -1;
      cancelMomentum();
      function momentumLoop() {
        if (speed <= defltSpeed) { scrlSpeed = defltSpeed; dirctn = momentumDirection; return; }
        scrlSpeed = speed; dirctn = momentumDirection;
        scrlPos += scrlSpeed * dirctn;
        let maxScroll = -scrlCntnt.scrollWidth;
        if (scrlPos <= maxScroll) scrlPos = 0; else if (scrlPos >= 0) scrlPos = maxScroll;
        scrlCntnt.style.transform = `translateX(${scrlPos}px)`;
        cloneCntnt.style.transform = `translateX(${scrlPos}px)`;
        speed *= 0.95; if (speed < defltSpeed) speed = defltSpeed;
        momentumFrame = requestAnimationFrame(momentumLoop);
      }
      momentumLoop();
    }
    function cancelMomentum() { if (momentumFrame) cancelAnimationFrame(momentumFrame); }

 /**   document.addEventListener('DOMContentLoaded', async () => {
      try {
        const works = await client.fetch(`*[_type == "work"] | order(_createdAt asc)[1...17] {
      featuredSections[] {
        title,
        images[]{ asset->{ url } }
      }
    }`);
        const container = document.querySelector('.work-img-wrpr-div');
        const parents = document.querySelectorAll('.work-divs-wrpr');
        const separateWorkDiv = document.querySelector('.separate-work-div');
        const titleInrImg = separateWorkDiv.querySelector('.title-inr-img');
        const imagesFlex = separateWorkDiv.querySelectorAll('.images-flex');
        const overlayWork = document.querySelector('.overlay-work');
        const wrkClose = document.querySelector('.wrk-close');
        const allChip = document.querySelector('.wrk-chip-all');
        const chips = document.querySelectorAll('.wrk-chip');

        let usedParents;
        if (window.innerWidth <= 478) { usedParents = [parents[0]]; }
        else { usedParents = parents; }

        usedParents.forEach(p => p.innerHTML = '');

        const allClones = [];
        parents.forEach(p => p.innerHTML = '');

        works.forEach((work, workIndex) => {
          work.featuredSections?.forEach(section => {
            const images = section.images || [];
            if (!images.length) return;

            section.preloadedImages = images.map(imgObj => {
              const img = new Image();
              img.src = imgObj.asset?.url || '';
              img.alt = section.title || '';
              img.style.height = '40vh';
              img.style.width = 'auto';
              img.style.objectFit = 'cover';
              img.style.marginRight = '1rem';
              img.loading = 'eager';
              return img;
            });

            const imgUrl = images[0]?.asset?.url;
            if (!imgUrl) return;

            const clone = container.cloneNode(true);
            clone.dataset.chipIndex = workIndex;
            clone.dataset.chipGroup = 'all';

            const titleEl = clone.querySelector('.title-img');
            if (titleEl) titleEl.textContent = section.title || '';

            const overlayEl = clone.querySelector('.overlay-div');
            if (overlayEl) {
              overlayEl.style.opacity = '0';
              overlayEl.style.cursor = 'pointer';

              overlayEl.addEventListener('click', () => {
                separateWorkDiv.style.display = 'block';
                setTimeout(() => separateWorkDiv.style.opacity = '1', 100);

                overlayWork.style.display = 'block';
                setTimeout(() => overlayWork.style.opacity = '1', 100);

                if (titleInrImg) titleInrImg.textContent = section.title || '';

                imagesFlex.forEach(flex => {
                  flex.innerHTML = '';
                  section.preloadedImages.forEach(preImg => {
                    const cloneImg = preImg.cloneNode(true);
                    flex.appendChild(cloneImg);
                  });
                });

                scrlContnr = document.querySelector('.images-flex-wrpr');
                scrlCntnt = scrlContnr.querySelector('.images-flex');
                const oldClone = scrlContnr.querySelector('.images-flex-clone');
                if (oldClone) oldClone.remove();
                cloneCntnt = scrlCntnt.cloneNode(true);
                cloneCntnt.classList.add('images-flex-clone');
                scrlContnr.appendChild(cloneCntnt);

                scrlPos = 0;
                scrlContnr.addEventListener('mousedown', e => startDrag(e));
                scrlContnr.addEventListener('mousemove', e => moveDrag(e));
                scrlContnr.addEventListener('mouseup', endDrag);
                scrlContnr.addEventListener('mouseleave', () => {
                  if (isDragging) { isDragging = false; scrlContnr.style.cursor = "grab"; applyMomentum(); }
                  else startAnimation();
                });
                scrlContnr.addEventListener('touchstart', e => startDrag(e, true));
                scrlContnr.addEventListener('touchmove', e => moveDrag(e, true));
                scrlContnr.addEventListener('touchend', endDrag);
                scrlContnr.addEventListener('touchcancel', endDrag);
                document.addEventListener('scroll', startAnimation);
                startAnimation();
              });
            }

            let img = clone.querySelector('img');
            if (!img) {
              img = document.createElement('img');
              clone.prepend(img);
            }
            img.src = imgUrl;
            img.alt = section.title || '';
            img.style.width = '100%';
            img.style.height = '100%';
            img.style.objectFit = 'cover';

            allClones.push(clone);
          });
        });

        function distribute(clones) {
          usedParents.forEach(p => p.innerHTML = '');
          let counter = 0;
          clones.forEach(clone => {
            const parent = usedParents[counter % usedParents.length];
            parent.appendChild(clone);
            counter++;
          });
        }

        distribute(allClones);
        container.style.display = 'none';
        allChip.classList.add('selected');
        chips.forEach((chip, chipIndex) => {
          chip.addEventListener('click', () => {
            const filtered = allClones.filter(div => Number(div.dataset.chipIndex) === chipIndex);
            distribute(filtered);
            chips.forEach(c => c.classList.remove('selected'));
            allChip.classList.remove('selected');
            chip.classList.add('selected');
          });
        });
        allChip.addEventListener('click', () => {
          distribute(allClones);
          chips.forEach(c => c.classList.remove('selected'));
          allChip.classList.add('selected');
        });
        [overlayWork, wrkClose].forEach(el => {
          el.addEventListener('click', () => {
            separateWorkDiv.style.opacity = '0';
            setTimeout(() => separateWorkDiv.style.display = 'none', 300);
            overlayWork.style.opacity = '0';
            setTimeout(() => overlayWork.style.display = 'none', 300);
          });
        });
      } catch (err) { console.error('❌ Sanity fetch error:', err); }
    });**/
    document.addEventListener('DOMContentLoaded', async () => {
  try {
    const works = await client.fetch(`*[_type == "work"] | order(_createdAt asc)[1...20] {
      heroTitle,
      featuredSections[] {
        title,
        images[]{ asset->{ url } }
      }
    }`);

    const container = document.querySelector('.work-img-wrpr-div');
    const parents = document.querySelectorAll('.work-divs-wrpr');
    const separateWorkDiv = document.querySelector('.separate-work-div');
    const titleInrImg = separateWorkDiv.querySelector('.title-inr-img');
    const imagesFlex = separateWorkDiv.querySelectorAll('.images-flex');
    const overlayWork = document.querySelector('.overlay-work');
    const wrkClose = document.querySelector('.wrk-close');
    const allChip = document.querySelector('.wrk-chip-all');
    const chipWrapper = document.querySelector('.work-chip-wrp'); // wrapper for chips

    let usedParents = window.innerWidth <= 478 ? [parents[0]] : parents;
    usedParents.forEach(p => p.innerHTML = '');

    const allClones = [];

    chipWrapper.querySelectorAll('.wrk-chip:not(.wrk-chip-all)').forEach(chip => chip.remove());

    // 💡 Create dynamic chips based on heroTitle
    works.forEach((work, workIndex) => {
      if (!work.heroTitle) return;

      // Create a chip element
      const chip = document.createElement('div');
      chip.classList.add('wrk-chip');
      chip.dataset.index = workIndex;

      // Chip inner text
      const chipText = document.createElement('div');
      chipText.classList.add('chip-text');
      chipText.textContent = work.heroTitle;
      chip.appendChild(chipText);

      chipWrapper.appendChild(chip);
    });

    const chips = document.querySelectorAll('.wrk-chip');

    // 💡 Build all image clones
    works.forEach((work, workIndex) => {
      work.featuredSections?.forEach(section => {
        const images = section.images || [];
        if (!images.length) return;

        section.preloadedImages = images.map(imgObj => {
          const img = new Image();
          img.src = imgObj.asset?.url || '';
          img.alt = section.title || '';
          img.style.height = '40vh';
          img.style.width = 'auto';
          img.style.objectFit = 'cover';
          img.style.marginRight = '1rem';
          img.loading = 'eager';
          return img;
        });

        const imgUrl = images[0]?.asset?.url;
        if (!imgUrl) return;

        const clone = container.cloneNode(true);
        clone.dataset.chipIndex = workIndex;
        clone.dataset.chipGroup = 'all';

        const titleEl = clone.querySelector('.title-img');
        if (titleEl) titleEl.textContent = section.title || '';

        const overlayEl = clone.querySelector('.overlay-div');
        if (overlayEl) {
          overlayEl.style.opacity = '0';
          overlayEl.style.cursor = 'pointer';
          overlayEl.addEventListener('click', () => {
            separateWorkDiv.style.display = 'block';
            setTimeout(() => separateWorkDiv.style.opacity = '1', 100);
            overlayWork.style.display = 'block';
            setTimeout(() => overlayWork.style.opacity = '1', 100);
            if (titleInrImg) titleInrImg.textContent = section.title || '';
            imagesFlex.forEach(flex => {
              flex.innerHTML = '';
              section.preloadedImages.forEach(preImg => {
                const cloneImg = preImg.cloneNode(true);
                flex.appendChild(cloneImg);
              });
            });

            scrlContnr = document.querySelector('.images-flex-wrpr');
            scrlCntnt = scrlContnr.querySelector('.images-flex');
            const oldClone = scrlContnr.querySelector('.images-flex-clone');
            if (oldClone) oldClone.remove();
            cloneCntnt = scrlCntnt.cloneNode(true);
            cloneCntnt.classList.add('images-flex-clone');
            scrlContnr.appendChild(cloneCntnt);

            scrlPos = 0;
            scrlContnr.addEventListener('mousedown', e => startDrag(e));
            scrlContnr.addEventListener('mousemove', e => moveDrag(e));
            scrlContnr.addEventListener('mouseup', endDrag);
            scrlContnr.addEventListener('mouseleave', () => {
              if (isDragging) { isDragging = false; scrlContnr.style.cursor = "grab"; applyMomentum(); }
              else startAnimation();
            });
            scrlContnr.addEventListener('touchstart', e => startDrag(e, true));
            scrlContnr.addEventListener('touchmove', e => moveDrag(e, true));
            scrlContnr.addEventListener('touchend', endDrag);
            scrlContnr.addEventListener('touchcancel', endDrag);
            document.addEventListener('scroll', startAnimation);
            startAnimation();
          });
        }

        let img = clone.querySelector('img');
        if (!img) {
          img = document.createElement('img');
          clone.prepend(img);
        }
        img.src = imgUrl;
        img.alt = section.title || '';
        img.style.width = '100%';
        img.style.height = '100%';
        img.style.objectFit = 'cover';

        allClones.push(clone);
      });
    });

    function distribute(clones) {
      usedParents.forEach(p => p.innerHTML = '');
      let counter = 0;
      clones.forEach(clone => {
        const parent = usedParents[counter % usedParents.length];
        parent.appendChild(clone);
        counter++;
      });
    }

    distribute(allClones);
    container.style.display = 'none';
    allChip.classList.add('selected');

    // 💡 Wire up chip filters
    chips.forEach(chip => {
      chip.addEventListener('click', () => {
        const chipIndex = Number(chip.dataset.index);
        const filtered = allClones.filter(div => Number(div.dataset.chipIndex) === chipIndex);
        distribute(filtered);
        chips.forEach(c => c.classList.remove('selected'));
        allChip.classList.remove('selected');
        chip.classList.add('selected');
      });
    });

    allChip.addEventListener('click', () => {
      distribute(allClones);
      chips.forEach(c => c.classList.remove('selected'));
      allChip.classList.add('selected');
    });

    [overlayWork, wrkClose].forEach(el => {
      el.addEventListener('click', () => {
        separateWorkDiv.style.opacity = '0';
        setTimeout(() => separateWorkDiv.style.display = 'none', 300);
        overlayWork.style.opacity = '0';
        setTimeout(() => overlayWork.style.display = 'none', 300);
      });
    });
  } catch (err) { console.error('❌ Sanity fetch error:', err); }
});

  </script>




  <script type="module">
    import { createClient } from 'https://esm.sh/@sanity/client';
    const client = createClient({
      projectId: 'n7jjk6nd',
      dataset: 'production',
      useCdn: true,
      apiVersion: '2023-01-01'
    });
    document.addEventListener('DOMContentLoaded', async () => {
      try {
        const [heroData, contData] = await Promise.all([
          client.fetch(`*[_type == "work"] | order(_createdAt asc)[0] {
    featuredSections[] {
      images[]{
        asset->{ url, _type }
      }
    }
  }`),
          client.fetch(`*[_type == "home"] | order(_createdAt asc)[7] {
    heroImages[] { asset->{ url, _type } }
  }`)
        ]);

        const contImages = contData?.heroImages || [];
        const heroSections = heroData?.featuredSections || [];
        const heroImages = heroSections[0]?.images || [];

        const contImgDiv = document.querySelector('.contact-div');
        const heroImgDiv = document.querySelector('.swiper');
        function applyImageStyles(el, { absolute = false } = {}) {
          if (absolute) {
            el.style.position = 'absolute';
            el.style.top = 0;
            el.style.left = 0;
          }
          el.style.width = '100%';
          el.style.height = '100%';
          el.style.maxWidth = 'none';
          el.style.objectFit = 'cover';
        }
        function insertImageOrVideo(container, mediaArr, label = 'Media') {
          if (container && mediaArr.length > 0) {
            const media = mediaArr[0];
            if (media.asset._type === 'sanity.imageAsset') {
              const img = document.createElement('img');
              img.src = media.asset.url;
              img.alt = label;
              applyImageStyles(img);
              container.appendChild(img);
            } else { console.warn(`⚠️ Unknown asset type in ${label}`); }
          } else { console.warn(`⚠️ No ${label} found or container missing.`); }
        }
        insertImageOrVideo(heroImgDiv, heroImages, 'Hero Media');
        insertImageOrVideo(contImgDiv, contImages, 'Contact Media');
      } catch (err) { console.error('❌ Sanity fetch error:', err); }
    });
  </script>
</body>
</html>
